{
  "schema_version": "0.4.0",
  "metadata": {
    "name": "blackjack-contract",
    "version": "0.1.3",
    "authors": [
      "Rebels Blocks"
    ],
    "build": {
      "compiler": "rustc 1.86.0",
      "builder": "cargo-near cargo-near-build 0.7.2"
    },
    "wasm_hash": "DZzr5L54j4ztf1RnPxsea2CxRNXx8Cvg5mXSBDdRB1jH"
  },
  "body": {
    "functions": [
      {
        "name": "assert_admin",
        "doc": " Check if caller is admin (owner or game admin)",
        "kind": "view"
      },
      {
        "name": "assert_not_paused",
        "doc": " Check if any operation should be blocked",
        "kind": "view"
      },
      {
        "name": "assert_owner",
        "doc": " Check if caller is contract owner",
        "kind": "view"
      },
      {
        "name": "bet",
        "doc": " Place a bet (burns tokens)",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "amount",
              "type_schema": {
                "type": "integer",
                "format": "uint128",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "boolean"
          }
        }
      },
      {
        "name": "check_claim_eligibility",
        "doc": " Check if user can claim cards (gas-free)",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"ƒelicia.near\".parse::<AccountId>().is_err()); // (ƒ is not f) ```",
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/ClaimEligibility"
          }
        }
      },
      {
        "name": "claim",
        "doc": " Claim daily cards",
        "kind": "call",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "integer",
            "format": "uint128",
            "minimum": 0.0
          }
        }
      },
      {
        "name": "cleanup_round_signals",
        "doc": " Auto-clear processed signals after round completion\n Called by backend after each round",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "seat_number",
              "type_schema": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            },
            {
              "name": "round_number",
              "type_schema": {
                "type": "integer",
                "format": "uint64",
                "minimum": 0.0
              }
            }
          ]
        }
      },
      {
        "name": "contract_source_metadata",
        "kind": "view"
      },
      {
        "name": "distribute_winnings",
        "doc": " Distribute winnings (admin/backend only)",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "distribution",
              "type_schema": {
                "$ref": "#/definitions/WinningsDistribution"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "boolean"
          }
        }
      },
      {
        "name": "game_mode",
        "doc": " Advance game state (backend trigger)",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "new_state",
              "type_schema": {
                "$ref": "#/definitions/GameState"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "boolean"
          }
        }
      },
      {
        "name": "get_all_players",
        "doc": " Get all occupied seats",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/PlayerView"
            }
          }
        }
      },
      {
        "name": "get_available_seats",
        "doc": " Get available seats (1, 2, 3)",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            }
          }
        }
      },
      {
        "name": "get_balance",
        "doc": " Get user card balance",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"ƒelicia.near\".parse::<AccountId>().is_err()); // (ƒ is not f) ```",
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "integer",
            "format": "uint128",
            "minimum": 0.0
          }
        }
      },
      {
        "name": "get_bets_signals",
        "doc": " Get pending bet signals (for backend polling)",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "seat_number",
              "type_schema": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/BetSignal"
            }
          }
        }
      },
      {
        "name": "get_blackjack_stats",
        "doc": " Get blackjack statistics",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/BlackjackStats"
          }
        }
      },
      {
        "name": "get_contract_metadata",
        "doc": " Get contract metadata",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/ContractMetadata"
          }
        }
      },
      {
        "name": "get_contract_stats",
        "doc": " Get contract statistics",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/ContractStats"
          }
        }
      },
      {
        "name": "get_game_state",
        "doc": " Get current game state and seat information",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/GameStateView"
          }
        }
      },
      {
        "name": "get_moves_signals",
        "doc": " Get pending move signals (for backend polling)",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "seat_number",
              "type_schema": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/MoveSignal"
            }
          }
        }
      },
      {
        "name": "get_occupied_seats",
        "doc": " Get occupied seats",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            }
          }
        }
      },
      {
        "name": "get_purchase_tiers",
        "doc": " Get purchase tiers",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/PurchaseTier"
            }
          }
        }
      },
      {
        "name": "get_seat_player",
        "doc": " Get player information for a specific seat",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "seat_number",
              "type_schema": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "anyOf": [
              {
                "$ref": "#/definitions/PlayerView"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      {
        "name": "get_tier_info",
        "doc": " Get tier info by index (0-3)",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "tier_index",
              "type_schema": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "anyOf": [
              {
                "$ref": "#/definitions/PurchaseTier"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      {
        "name": "get_token_config",
        "doc": " Get contract configuration",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/ContractConfig"
          }
        }
      },
      {
        "name": "get_user_stats",
        "doc": " Get detailed user statistics",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"ƒelicia.near\".parse::<AccountId>().is_err()); // (ƒ is not f) ```",
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "anyOf": [
              {
                "$ref": "#/definitions/UserStats"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      {
        "name": "get_valid_burn_amounts",
        "doc": " Get valid burn amounts",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            }
          }
        }
      },
      {
        "name": "global_pause",
        "doc": " Global pause for contract upgrades (owner only)",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "reason",
              "type_schema": {
                "type": "string"
              }
            }
          ]
        }
      },
      {
        "name": "global_resume",
        "doc": " Resume operations after pause",
        "kind": "call"
      },
      {
        "name": "has_sufficient_balance",
        "doc": " Check if user has sufficient token balance",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"ƒelicia.near\".parse::<AccountId>().is_err()); // (ƒ is not f) ```",
                "type": "string"
              }
            },
            {
              "name": "amount",
              "type_schema": {
                "type": "integer",
                "format": "uint128",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "boolean"
          }
        }
      },
      {
        "name": "kick_player_by_account",
        "doc": " Kick specific player by account ID (admin only)",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"ƒelicia.near\".parse::<AccountId>().is_err()); // (ƒ is not f) ```",
                "type": "string"
              }
            },
            {
              "name": "reason",
              "type_schema": {
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "boolean"
          }
        }
      },
      {
        "name": "leave_seat",
        "doc": " Leave your current seat",
        "kind": "call",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "boolean"
          }
        }
      },
      {
        "name": "make_move",
        "doc": " Signal a move (hit, stand, double, split)",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "move_type",
              "type_schema": {
                "$ref": "#/definitions/PlayerMove"
              }
            },
            {
              "name": "hand_index",
              "type_schema": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "boolean"
          }
        }
      },
      {
        "name": "new",
        "doc": " Initialize the contract",
        "kind": "call",
        "modifiers": [
          "init"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "owner_id",
              "type_schema": {
                "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"ƒelicia.near\".parse::<AccountId>().is_err()); // (ƒ is not f) ```",
                "type": "string"
              }
            }
          ]
        }
      },
      {
        "name": "purchase",
        "doc": " Purchase cards with NEAR",
        "kind": "call",
        "modifiers": [
          "payable"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "tier_index",
              "type_schema": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "integer",
            "format": "uint128",
            "minimum": 0.0
          }
        }
      },
      {
        "name": "storage_balance_bounds",
        "doc": " Get storage bounds",
        "kind": "view",
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/StorageBounds"
          }
        }
      },
      {
        "name": "storage_balance_of",
        "doc": " Get storage balance for account",
        "kind": "view",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"ƒelicia.near\".parse::<AccountId>().is_err()); // (ƒ is not f) ```",
                "type": "string"
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "anyOf": [
              {
                "$ref": "#/definitions/StorageBalance"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      {
        "name": "storage_deposit",
        "doc": " Deposit storage for user account",
        "kind": "call",
        "modifiers": [
          "payable"
        ],
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "account_id",
              "type_schema": {
                "description": "NEAR Account Identifier.\n\nThis is a unique, syntactically valid, human-readable account identifier on the NEAR network.\n\n[See the crate-level docs for information about validation.](index.html#account-id-rules)\n\nAlso see [Error kind precedence](AccountId#error-kind-precedence).\n\n## Examples\n\n``` use near_account_id::AccountId;\n\nlet alice: AccountId = \"alice.near\".parse().unwrap();\n\nassert!(\"ƒelicia.near\".parse::<AccountId>().is_err()); // (ƒ is not f) ```",
                "type": [
                  "string",
                  "null"
                ]
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/StorageBalance"
          }
        }
      },
      {
        "name": "storage_withdraw",
        "doc": " Withdraw unused storage deposit",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "amount",
              "type_schema": {
                "type": [
                  "string",
                  "null"
                ]
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "$ref": "#/definitions/StorageBalance"
          }
        }
      },
      {
        "name": "take_seat",
        "doc": " Take a seat (1, 2, or 3)",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "seat_number",
              "type_schema": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            }
          ]
        },
        "result": {
          "serialization_type": "json",
          "type_schema": {
            "type": "boolean"
          }
        }
      },
      {
        "name": "update_token_config",
        "doc": " Update contract configuration (Owner only)",
        "kind": "call",
        "params": {
          "serialization_type": "json",
          "args": [
            {
              "name": "update",
              "type_schema": {
                "$ref": "#/definitions/AdminConfigUpdate"
              }
            }
          ]
        }
      }
    ],
    "root_schema": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "String",
      "type": "string",
      "definitions": {
        "AdminConfigUpdate": {
          "description": "Admin configuration update payload",
          "type": "object",
          "properties": {
            "claim_interval": {
              "type": [
                "integer",
                "null"
              ],
              "format": "uint64",
              "minimum": 0.0
            },
            "daily_claim_amount": {
              "type": [
                "integer",
                "null"
              ],
              "format": "uint128",
              "minimum": 0.0
            },
            "purchase_rates": {
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/PurchaseTier"
              }
            }
          }
        },
        "BetSignal": {
          "type": "object",
          "required": [
            "amount",
            "burn_type",
            "hand_index",
            "player_account",
            "seat_number",
            "timestamp"
          ],
          "properties": {
            "amount": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "burn_type": {
              "$ref": "#/definitions/BurnType"
            },
            "hand_index": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "player_account": {
              "type": "string"
            },
            "seat_number": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "timestamp": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            }
          }
        },
        "BlackjackStats": {
          "type": "object",
          "required": [
            "total_games_played",
            "total_hands_dealt",
            "total_players_joined",
            "total_tokens_burned_betting",
            "total_winnings_distributed"
          ],
          "properties": {
            "total_games_played": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "total_hands_dealt": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "total_players_joined": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "total_tokens_burned_betting": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "total_winnings_distributed": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            }
          }
        },
        "BurnType": {
          "type": "string",
          "enum": [
            "Bet",
            "Double",
            "Split"
          ]
        },
        "ClaimEligibility": {
          "description": "Claim eligibility check (gas-free view function)",
          "type": "object",
          "required": [
            "can_claim",
            "claim_amount",
            "current_balance",
            "next_claim_time",
            "reason",
            "seconds_until_claim"
          ],
          "properties": {
            "can_claim": {
              "type": "boolean"
            },
            "claim_amount": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "current_balance": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "next_claim_time": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "reason": {
              "type": "string"
            },
            "seconds_until_claim": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            }
          }
        },
        "ContractConfig": {
          "description": "Contract configuration",
          "type": "object",
          "required": [
            "claim_interval",
            "daily_claim_amount",
            "purchase_rates",
            "valid_burn_amounts"
          ],
          "properties": {
            "claim_interval": {
              "description": "Claim interval in nanoseconds (1 minute = 60_000_000_000)",
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "daily_claim_amount": {
              "description": "Daily claim amount (default: 1000)",
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "purchase_rates": {
              "description": "Purchase rates (cards per NEAR)",
              "type": "array",
              "items": {
                "$ref": "#/definitions/PurchaseTier"
              }
            },
            "valid_burn_amounts": {
              "description": "Valid burn amounts",
              "type": "array",
              "items": {
                "type": "integer",
                "format": "uint128",
                "minimum": 0.0
              }
            }
          }
        },
        "ContractMetadata": {
          "type": "object",
          "required": [
            "version"
          ],
          "properties": {
            "build_info": {
              "type": [
                "string",
                "null"
              ]
            },
            "link": {
              "type": [
                "string",
                "null"
              ]
            },
            "version": {
              "type": "string"
            }
          }
        },
        "ContractStats": {
          "description": "Contract statistics view",
          "type": "object",
          "required": [
            "active_users",
            "circulating_supply",
            "total_burned",
            "total_claimed",
            "total_purchased",
            "total_supply",
            "total_users"
          ],
          "properties": {
            "active_users": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "circulating_supply": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "total_burned": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "total_claimed": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "total_purchased": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "total_supply": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "total_users": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            }
          }
        },
        "GameState": {
          "type": "string",
          "enum": [
            "WaitingForPlayers",
            "Betting",
            "DealingInitialCards",
            "PlayerTurn",
            "DealerTurn"
          ]
        },
        "GameStateView": {
          "type": "object",
          "required": [
            "available_seats",
            "occupied_seats",
            "round_number",
            "state"
          ],
          "properties": {
            "available_seats": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            },
            "current_player_seat": {
              "type": [
                "integer",
                "null"
              ],
              "format": "uint8",
              "minimum": 0.0
            },
            "occupied_seats": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "uint8",
                "minimum": 0.0
              }
            },
            "round_number": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "state": {
              "$ref": "#/definitions/GameState"
            }
          }
        },
        "HandResult": {
          "type": "string",
          "enum": [
            "Blackjack",
            "Win",
            "Push",
            "Bust",
            "Lose"
          ]
        },
        "MoveSignal": {
          "type": "object",
          "required": [
            "hand_index",
            "move_type",
            "player_account",
            "seat_number",
            "timestamp"
          ],
          "properties": {
            "hand_index": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "move_type": {
              "$ref": "#/definitions/PlayerMove"
            },
            "player_account": {
              "type": "string"
            },
            "seat_number": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "timestamp": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            }
          }
        },
        "PlayerHand": {
          "type": "object",
          "required": [
            "bet_amount",
            "can_hit",
            "hand_index",
            "has_doubled",
            "has_split",
            "is_finished"
          ],
          "properties": {
            "bet_amount": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "can_hit": {
              "type": "boolean"
            },
            "hand_index": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "has_doubled": {
              "type": "boolean"
            },
            "has_split": {
              "type": "boolean"
            },
            "is_finished": {
              "type": "boolean"
            },
            "result": {
              "anyOf": [
                {
                  "$ref": "#/definitions/HandResult"
                },
                {
                  "type": "null"
                }
              ]
            }
          }
        },
        "PlayerMove": {
          "type": "string",
          "enum": [
            "Hit",
            "Stand",
            "Double",
            "Split"
          ]
        },
        "PlayerState": {
          "type": "string",
          "enum": [
            "WaitingForNextRound",
            "Active",
            "SittingOut",
            "Observing",
            "AwaitingBuyIn"
          ]
        },
        "PlayerView": {
          "type": "object",
          "required": [
            "account_id",
            "current_hand_index",
            "hands",
            "is_current_player",
            "seat_number",
            "state",
            "time_since_last_action",
            "total_burned_this_round"
          ],
          "properties": {
            "account_id": {
              "type": "string"
            },
            "current_hand_index": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "hands": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PlayerHand"
              }
            },
            "is_current_player": {
              "type": "boolean"
            },
            "seat_number": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "state": {
              "$ref": "#/definitions/PlayerState"
            },
            "time_since_last_action": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "total_burned_this_round": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            }
          }
        },
        "PlayerWinning": {
          "type": "object",
          "required": [
            "account_id",
            "bet_amount",
            "hand_index",
            "result",
            "seat_number",
            "winnings"
          ],
          "properties": {
            "account_id": {
              "type": "string"
            },
            "bet_amount": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "hand_index": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "result": {
              "$ref": "#/definitions/HandResult"
            },
            "seat_number": {
              "type": "integer",
              "format": "uint8",
              "minimum": 0.0
            },
            "winnings": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            }
          }
        },
        "PurchaseTier": {
          "description": "Purchase tier definition",
          "type": "object",
          "required": [
            "cards_amount",
            "name",
            "near_cost"
          ],
          "properties": {
            "cards_amount": {
              "description": "Cards received for this payment",
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "name": {
              "description": "Display name for this tier",
              "type": "string"
            },
            "near_cost": {
              "description": "Amount of NEAR required",
              "type": "string"
            }
          }
        },
        "StorageBalance": {
          "description": "Storage management structure",
          "type": "object",
          "required": [
            "available",
            "total"
          ],
          "properties": {
            "available": {
              "type": "string"
            },
            "total": {
              "type": "string"
            }
          }
        },
        "StorageBounds": {
          "description": "Storage deposit bounds",
          "type": "object",
          "required": [
            "min"
          ],
          "properties": {
            "max": {
              "type": [
                "string",
                "null"
              ]
            },
            "min": {
              "type": "string"
            }
          }
        },
        "UserStats": {
          "description": "User statistics view",
          "type": "object",
          "required": [
            "balance",
            "can_claim_now",
            "last_claim_time",
            "next_claim_available",
            "registered_at",
            "storage_available",
            "storage_deposit_amount",
            "storage_deposited",
            "storage_used",
            "total_burned",
            "total_claimed",
            "total_purchased"
          ],
          "properties": {
            "balance": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "can_claim_now": {
              "type": "boolean"
            },
            "last_claim_time": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "next_claim_available": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "registered_at": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "storage_available": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "storage_deposit_amount": {
              "type": "string"
            },
            "storage_deposited": {
              "type": "boolean"
            },
            "storage_used": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "total_burned": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "total_claimed": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            },
            "total_purchased": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            }
          }
        },
        "WinningsDistribution": {
          "type": "object",
          "required": [
            "distributions",
            "round_number",
            "timestamp",
            "total_minted"
          ],
          "properties": {
            "distributions": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PlayerWinning"
              }
            },
            "round_number": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "timestamp": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "total_minted": {
              "type": "integer",
              "format": "uint128",
              "minimum": 0.0
            }
          }
        }
      }
    }
  }
}
